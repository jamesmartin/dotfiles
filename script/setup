#!/bin/bash

# Fetch and build a working version of Vim.
VIM_TAG=v9.1.0041
git clone --depth 1 --branch $VIM_TAG https://github.com/vim/vim.git tmpvim
cd tmpvim/src
sudo make install

rake install[quiet]

git submodule update --init --recursive

# Codespaces has a .gitconfig already setup, but in order to take advantage of
# the attributes set in /etc/gitconfig we have to explicitly include the path.
# Thanks, @tarebyte!
if [ $CODESPACES ]; then
	git config --global include.path /etc/gitconfig
fi
